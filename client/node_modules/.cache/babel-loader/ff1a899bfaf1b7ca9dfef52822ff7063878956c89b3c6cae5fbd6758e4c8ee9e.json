{"ast":null,"code":"import _slicedToArray from\"C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errorList=_useState6[0],setErrorList=_useState6[1];var handleSubmit=function handleSubmit(e){e.preventDefault();setErrorList([]);axios.post(\"http://localhost:8000/api/login\",{email:email,password:password}).then(function(res){if(res.data===\"Success\"){navigate(\"/\");}}).catch(function(err){if(err.response&&err.response.data&&err.response.data.errors){var errResponseData=err.response.data.errors;var tempErrArr=[];for(var eachKey in errResponseData){tempErrArr.push(errResponseData[eachKey].message);}setErrorList(tempErrArr);}else{setErrorList(['An unexpected error occurred.']);}});};var hasErrors=errorList.length>0;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:hasErrors,children:\"Login\"}),hasErrors&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:errorList.map(function(eachErr,idx){return/*#__PURE__*/_jsx(\"p\",{children:eachErr},idx);})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","navigate","_useState5","_useState6","errorList","setErrorList","handleSubmit","e","preventDefault","post","then","res","data","catch","err","response","errors","errResponseData","tempErrArr","eachKey","push","message","hasErrors","length","children","onSubmit","className","type","name","value","onChange","target","disabled","style","color","map","eachErr","idx"],"sources":["C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/src/views/Login.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const navigate = useNavigate()\r\n\r\n    const [errorList, setErrorList] = useState([])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        setErrorList([])\r\n        axios.post(`http://localhost:8000/api/login`, { email, password })\r\n            .then(res => {\r\n                if(res.data === \"Success\") {\r\n                    navigate(`/`)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if (err.response && err.response.data && err.response.data.errors) {\r\n                    const errResponseData = err.response.data.errors;\r\n                    const tempErrArr = [];\r\n                    for (const eachKey in errResponseData) {\r\n                        tempErrArr.push(errResponseData[eachKey].message);\r\n                    }\r\n                    setErrorList(tempErrArr);\r\n                } else {\r\n                    setErrorList(['An unexpected error occurred.']);\r\n                }\r\n            });\r\n    }\r\n\r\n    const hasErrors = errorList.length > 0\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <form onSubmit={handleSubmit}>\r\n\r\n                <div className=\"mb-3\">\r\n                    <label>Email</label>\r\n                    <input type=\"email\" name=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Password</label>\r\n                    <input type=\"password\" name=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <button type=\"submit\" disabled={hasErrors}>\r\n                    Login\r\n                </button>\r\n                {hasErrors && (\r\n                    <div style={{ color: 'red' }}>\r\n                        {errorList.map((eachErr, idx) => (\r\n                            <p key={idx}>{eachErr}</p>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}