{"ast":null,"code":"import _slicedToArray from\"C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPage=function EditPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),mealType=_useState4[0],setMealType=_useState4[1];var _useState5=useState(100),_useState6=_slicedToArray(_useState5,2),calories=_useState6[0],setCalories=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isFull=_useState8[0],setIsFull=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),details=_useState10[0],setDetails=_useState10[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),errorList=_useState12[0],setErrorList=_useState12[1];useEffect(function(){axios.get(\"http://localhost:8000/api/meals/\".concat(id)).then(function(res){var meal=res.data;var mealDate=new Date(meal.date);var year=mealDate.getFullYear();var month=(mealDate.getMonth()+1).toString().padStart(2,'0');var day=mealDate.getDate().toString().padStart(2,'0');setDate(\"\".concat(year,\"-\").concat(month,\"-\").concat(day));setMealType(meal.mealType);setCalories(meal.calories);setIsFull(meal.isFull);setDetails(meal.details);}).catch(function(err){return console.log(err);});},[id]);var handleSubmit=function handleSubmit(e){e.preventDefault();axios.put(\"http://localhost:8000/api/meals/\".concat(id),{date:date,mealType:mealType,calories:calories,isFull:isFull,details:details}).then(function(res){navigate(\"/meals/\".concat(id));}).catch(function(err){var errResponseData=err.response.data.errors;var tempErrArr=[];for(var eachKey in errResponseData){tempErrArr.push(errResponseData[eachKey].message);}setErrorList(tempErrArr);});};var handleDelete=function handleDelete(){axios.delete(\"http://localhost:8000/api/meals/\".concat(id)).then(function(res){return navigate(\"/\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type of Meal: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"string\",name:\"mealType\",value:mealType,onChange:function onChange(e){return setMealType(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Calories: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"calories\",value:calories,onChange:function onChange(e){return setCalories(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full After? \"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isFull\",value:isFull,onChange:function onChange(e){return setIsFull(e.target.checked);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Details:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"details\",value:details,onChange:function onChange(e){return setDetails(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Update Meal\"}),\"|\",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-secondary\",children:\"Cancel\"}),\"|\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDelete,children:\"Delete\"}),errorList.map(function(eachErr,idx){return/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\" \",eachErr]},idx);})]})});};export default EditPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","EditPage","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","mealType","setMealType","_useState5","_useState6","calories","setCalories","_useState7","_useState8","isFull","setIsFull","_useState9","_useState10","details","setDetails","navigate","_useParams","id","_useState11","_useState12","errorList","setErrorList","get","concat","then","res","meal","data","mealDate","Date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","catch","err","console","log","handleSubmit","e","preventDefault","put","errResponseData","response","errors","tempErrArr","eachKey","push","message","handleDelete","delete","children","onSubmit","className","type","name","value","onChange","target","checked","to","onClick","map","eachErr","idx","style","color"],"sources":["C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/src/views/EditPage.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { useParams, Link, useNavigate } from 'react-router-dom'\r\nimport axios from'axios'\r\n\r\nconst EditPage = () => {\r\n\r\n    const [date, setDate] = useState(\"\")\r\n    const [mealType, setMealType] = useState(\"\")\r\n    const [calories, setCalories] = useState(100)\r\n    const [isFull, setIsFull] = useState(false)\r\n    const [details, setDetails] = useState(\"\")\r\n    const navigate = useNavigate()\r\n\r\n    const {id} = useParams()\r\n\r\n    const [errorList, setErrorList] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/meals/${id}`)\r\n        .then(res =>{\r\n            const meal = res.data\r\n            const mealDate = new Date(meal.date)\r\n            const year = mealDate.getFullYear();\r\n            const month = (mealDate.getMonth() + 1).toString().padStart(2,'0')\r\n            const day = mealDate.getDate().toString().padStart(2,'0')\r\n            setDate(`${year}-${month}-${day}`)\r\n            setMealType(meal.mealType)\r\n            setCalories(meal.calories)\r\n            setIsFull(meal.isFull)\r\n            setDetails(meal.details)\r\n        })\r\n        .catch(err => console.log(err))\r\n    },[id])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        axios.put(`http://localhost:8000/api/meals/${id}`, {date, mealType, calories, isFull, details})\r\n        .then(res => {\r\n            navigate(`/meals/${id}`)\r\n        })\r\n        .catch(err => {\r\n            const errResponseData = err.response.data.errors\r\n            const tempErrArr = []\r\n            for(const eachKey in errResponseData) {\r\n                tempErrArr.push(errResponseData[eachKey].message)\r\n            }\r\n            setErrorList(tempErrArr)\r\n        })\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        axios.delete(`http://localhost:8000/api/meals/${id}`)\r\n        .then(res => navigate(`/`))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label>Date: </label>\r\n                    <input type='date' name='date' value={date} \r\n                    onChange={e => setDate(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Type of Meal: </label>\r\n                    <input type='string' name='mealType' value={mealType} \r\n                    onChange={e => setMealType(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Total Calories: </label>\r\n                    <input type='number' name='calories' value={calories} \r\n                    onChange={e => setCalories(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Full After? </label>\r\n                    <input type='checkbox' name='isFull' value={isFull} \r\n                    onChange={e => setIsFull(e.target.checked)} />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Details:</label>\r\n                    <textarea name='details' value={details} \r\n                    onChange={e => setDetails(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <button type='submit' className='btn btn-success'>Update Meal</button>|\r\n                <Link to=\"/\" className='btn btn-secondary'>Cancel</Link>|\r\n                <button type='button' className='btn btn-danger' onClick={handleDelete}>Delete</button>\r\n                {\r\n                    errorList.map((eachErr, idx) => {\r\n                        return(\r\n                            <p style={{color: \"red\"}} key={idx}> {eachErr}</p>\r\n                        )\r\n                    })\r\n                }\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}