{"ast":null,"code":"import _slicedToArray from\"C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePage=function CreatePage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),mealType=_useState4[0],setMealType=_useState4[1];var _useState5=useState(100),_useState6=_slicedToArray(_useState5,2),calories=_useState6[0],setCalories=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isFull=_useState8[0],setIsFull=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),details=_useState10[0],setDetails=_useState10[1];var navigate=useNavigate();var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),errorList=_useState12[0],setErrorList=_useState12[1];var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(\"http://localhost:8000/api/meals\",{date:date,mealType:mealType,calories:calories,isFull:isFull,details:details}).then(function(res){var createdMeal=res.data;navigate(\"/meals/\".concat(createdMeal._id));}).catch(function(err){var errResponseData=err.response.data.errors;var tempErrArr=[];for(var eachKey in errResponseData){tempErrArr.push(errResponseData[eachKey].message);}setErrorList(tempErrArr);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type of Meal: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"string\",name:\"mealType\",value:mealType,onChange:function onChange(e){return setMealType(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Calories: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"calories\",value:calories,onChange:function onChange(e){return setCalories(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full After? \"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isFull\",value:isFull,onChange:function onChange(e){return setIsFull(e.target.checked);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Details:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"details\",value:details,onChange:function onChange(e){return setDetails(e.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Create Meal\"}),\"|\",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-secondary\",children:\"Cancel\"}),errorList.map(function(eachErr,idx){return/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\" \",eachErr]},idx);})]})});};export default CreatePage;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","CreatePage","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","mealType","setMealType","_useState5","_useState6","calories","setCalories","_useState7","_useState8","isFull","setIsFull","_useState9","_useState10","details","setDetails","navigate","_useState11","_useState12","errorList","setErrorList","handleSubmit","e","preventDefault","post","then","res","createdMeal","data","concat","_id","catch","err","errResponseData","response","errors","tempErrArr","eachKey","push","message","children","onSubmit","className","type","name","value","onChange","target","checked","to","map","eachErr","idx","style","color"],"sources":["C:/Users/chris/OneDrive/Documents/CodingDojo/MERN/round2/Meal_Master/client/src/views/CreatePage.jsx"],"sourcesContent":["import React, {useState} from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\n\r\nconst CreatePage = () => {\r\n\r\n    const [date, setDate] = useState(\"\")\r\n    const [mealType, setMealType] = useState(\"\")\r\n    const [calories, setCalories] = useState(100)\r\n    const [isFull, setIsFull] = useState(false)\r\n    const [details, setDetails] = useState(\"\")\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const [errorList, setErrorList] = useState([])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        axios.post(`http://localhost:8000/api/meals`, {date, mealType, calories, isFull, details})\r\n        .then(res => {\r\n            const createdMeal = res.data\r\n            navigate(`/meals/${createdMeal._id}`)\r\n        })\r\n        .catch(err => {\r\n            const errResponseData = err.response.data.errors\r\n            const tempErrArr = []\r\n            for(const eachKey in errResponseData) {\r\n                tempErrArr.push(errResponseData[eachKey].message)\r\n            }\r\n            setErrorList(tempErrArr)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label >Date: </label>\r\n                    <input type='date' name='date' value={date} \r\n                    onChange={e => setDate(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label >Type of Meal: </label>\r\n                    <input type='string' name='mealType' value={mealType} \r\n                    onChange={e => setMealType(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label >Total Calories: </label>\r\n                    <input type='number' name='calories' value={calories} \r\n                    onChange={e => setCalories(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label >Full After? </label>\r\n                    <input type='checkbox' name='isFull' value={isFull} \r\n                    onChange={e => setIsFull(e.target.checked)} />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label>Details:</label>\r\n                    <textarea name='details' value={details} \r\n                    onChange={e => setDetails(e.target.value)} className=\"form-control\"/>\r\n                </div>\r\n                <button type='submit' className='btn btn-success'>Create Meal</button>|\r\n                <Link to=\"/\" className='btn btn-secondary'>Cancel</Link>\r\n                {\r\n                    errorList.map((eachErr, idx) => {\r\n                        return(\r\n                            <p style={{color: \"red\"}} key={idx}> {eachErr}</p>\r\n                        )\r\n                    })\r\n                }\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}